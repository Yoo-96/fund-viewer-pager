var e=(e,a,l)=>new Promise((s,t)=>{var u=e=>{try{n(l.next(e))}catch(a){t(a)}},o=e=>{try{n(l.throw(e))}catch(a){t(a)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(u,o);n((l=l.apply(e,a)).next())});import{r as a,o as l,c as s,w as t,a as u,i as o,m as n,l as c,e as i,b as d,F as r,d as p,n as v,t as f,f as m,p as _,s as h}from"./index-DvadhCu2.js";import{_ as k,g as y,e as x}from"./_plugin-vue_export-helper.CQNFGRkO.js";const C=k({__name:"index",emits:["confirm"],setup(k,{expose:C,emit:b}){const w=b,g=a(!1),j=a([]),F=a(),I=a(""),P=()=>{g.value=!1,I.value=""},T=()=>e(this,null,function*(){F.value&&I.value&&(yield x(F.value,I.value),h({title:"添加成功",icon:"success"}),w("confirm",{fund:F.value,holderId:I.value}),P())});return C({open:a=>e(this,null,function*(){const e=yield y();j.value=e||[],F.value=a||null,I.value="",g.value=!0}),close:P}),(e,a)=>{const h=c,k=o,y=_;return g.value?(l(),s(k,{key:0,class:"popup-overlay",onClick:P},{default:t(()=>[u(k,{class:"popup-content",onClick:a[0]||(a[0]=n(()=>{},["stop"]))},{default:t(()=>[u(k,{class:"popup-header"},{default:t(()=>[u(h,{class:"popup-title"},{default:t(()=>[i("选择持有人")]),_:1}),u(h,{class:"popup-close",onClick:P},{default:t(()=>[i("×")]),_:1})]),_:1}),u(k,{class:"holder-list"},{default:t(()=>[(l(!0),d(r,null,p(j.value,e=>(l(),s(k,{key:e.id,class:v(["holder-item",{active:I.value===e.id}]),onClick:a=>(e=>{I.value=e.id})(e)},{default:t(()=>[u(h,{class:"holder-name"},{default:t(()=>[i(f(e.name),1)]),_:2},1024),I.value===e.id?(l(),s(h,{key:0,class:"check-icon"},{default:t(()=>[i("✓")]),_:1})):m("",!0)]),_:2},1032,["class","onClick"]))),128))]),_:1}),u(k,{class:"popup-footer"},{default:t(()=>[u(y,{class:"cancel-btn",onClick:P},{default:t(()=>[i("取消")]),_:1}),u(y,{class:"confirm-btn",disabled:!I.value,onClick:T},{default:t(()=>[i(" 确定 ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})):m("",!0)}}},[["__scopeId","data-v-8474424a"]]);function b(e,a=300){let l;return function(...s){l&&clearTimeout(l),l=setTimeout(()=>{e.apply(this,s)},a)}}function w(e){return"--"===e||null==e?"--":Number(e).toFixed(2)+"%"}export{C as H,b as d,w as f};
