var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(l,a,s)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,d=(e,l)=>{for(var a in l||(l={}))t.call(l,a)&&o(e,a,l[a]);if(s)for(var a of s(l))u.call(l,a)&&o(e,a,l[a]);return e},n=(e,s)=>l(e,a(s));import{r,c,w as f,i,o as v,a as p,l as _,e as m,I as z,b as g,F as y,d as h,t as b,n as w,u as O,f as j}from"./index-DvadhCu2.js";import{f as E,H as k,d as C}from"./common.DOXCbTgk.js";import{_ as P,s as x,d as D}from"./_plugin-vue_export-helper.CQNFGRkO.js";const I=P({__name:"index",setup(e){const l=r([]),a=r(!1),s=r(null),t=r(null),u=r(),o=E,P=C(()=>{return e=this,s=null,t=function*(){if(!u.value)return l.value=[],void(a.value=!1);if(u.value.length<3)return l.value=[],void(a.value=!1);const e=yield x(u.value),s=[];for(const l of e)try{const e=l.CODE,a=yield D(e);s.push(n(d({},l),{fundcode:(null==a?void 0:a.fundcode)||e,name:(null==a?void 0:a.name)||l.NAME,gsz:(null==a?void 0:a.gsz)||"--",dwjz:(null==a?void 0:a.dwjz)||"--",gszzl:(null==a?void 0:a.gszzl)||"--",gztime:(null==a?void 0:a.gztime)||"--"}))}catch(t){s.push(n(d({},l),{fundcode:l.CODE,name:l.NAME,gsz:"--",dwjz:"--",gszzl:"--",gztime:"--"}))}l.value=s,a.value=!0},new Promise((l,a)=>{var u=e=>{try{d(t.next(e))}catch(l){a(l)}},o=e=>{try{d(t.throw(e))}catch(l){a(l)}},d=e=>e.done?l(e.value):Promise.resolve(e.value).then(u,o);d((t=t.apply(e,s)).next())});var e,s,t},500),I=()=>{P()};return(e,d)=>{const n=_,r=i,E=z;return v(),c(r,{class:"page"},{default:f(()=>[p(r,{class:"header"},{default:f(()=>[p(r,{class:"header-top"},{default:f(()=>[p(n,{class:"title"},{default:f(()=>[m("基金搜索")]),_:1})]),_:1}),p(r,{class:"search"},{default:f(()=>[p(E,{modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=e=>u.value=e),placeholder:"请输入至少3位基金代码/名称",onInput:I},null,8,["modelValue"])]),_:1})]),_:1}),p(r,{class:"list"},{default:f(()=>[(v(!0),g(y,null,h(l.value,e=>(v(),c(r,{key:e.fundcode||e.CODE,class:"card"},{default:f(()=>[p(r,{class:"row top"},{default:f(()=>[p(r,null,{default:f(()=>[p(r,{class:"name"},{default:f(()=>[m(b(e.name||e.NAME),1)]),_:2},1024),p(r,{class:"code"},{default:f(()=>[m(b(e.fundcode||e.CODE),1)]),_:2},1024)]),_:2},1024),void 0!==e.gszzl?(v(),c(r,{key:0,class:w(["change",Number(e.gszzl)>=0?"up":"down"])},{default:f(()=>[m(b(O(o)(e.gszzl)),1)]),_:2},1032,["class"])):(v(),c(r,{key:1,class:"change"},{default:f(()=>[m("--")]),_:1}))]),_:2},1024),p(r,{class:"row bottom"},{default:f(()=>[p(r,{class:"col"},{default:f(()=>[p(n,{class:"label"},{default:f(()=>[m("估算")]),_:1}),p(n,{class:"value"},{default:f(()=>[m(b(e.gsz||"--"),1)]),_:2},1024)]),_:2},1024),p(r,{class:"col"},{default:f(()=>[p(n,{class:"label"},{default:f(()=>[m("净值")]),_:1}),p(n,{class:"value"},{default:f(()=>[m(b(e.dwjz||"--"),1)]),_:2},1024)]),_:2},1024),p(r,{class:"time"},{default:f(()=>[m(b(e.gztime||"--"),1)]),_:2},1024)]),_:2},1024),p(r,{class:"add-btn",onClick:l=>(e=>{var l;t.value=e,null==(l=s.value)||l.open(e.CODE)})(e)},{default:f(()=>[m(" 添加到持仓 ")]),_:2},1032,["onClick"])]),_:2},1024))),128)),0===l.value.length&&a.value?(v(),c(r,{key:0,class:"empty"},{default:f(()=>[m(" 未找到相关基金 ")]),_:1})):j("",!0),a.value?j("",!0):(v(),c(r,{key:1,class:"empty"},{default:f(()=>[m(" 请输入基金代码或名称进行搜索 ")]),_:1}))]),_:1}),p(k,{ref_key:"holderSelectorRef",ref:s},null,512)]),_:1})}}},[["__scopeId","data-v-5a1c5fc7"]]);export{I as default};
