import{r as a,o as e,c as l,w as s,a as u,i as t,m as o,l as c,e as n,b as i,F as d,d as p,n as r,t as f,f as v,p as _,s as m}from"./index-D4JFg6X3.js";import{_ as k,g as h,e as y}from"./_plugin-vue_export-helper.y1xDDJgZ.js";const C=k({__name:"index",emits:["confirm"],setup(k,{expose:C,emit:b}){const x=b,w=a(!1),g=a([]),j=a(),F=a(""),I=()=>{w.value=!1,F.value=""},T=async()=>{j.value&&F.value&&(await y(j.value,F.value),m({title:"添加成功",icon:"success"}),x("confirm",{fund:j.value,holderId:F.value}),I())};return C({open:async a=>{const e=await h();g.value=e||[],j.value=a||null,F.value="",w.value=!0},close:I}),(a,m)=>{const k=c,h=t,y=_;return w.value?(e(),l(h,{key:0,class:"popup-overlay",onClick:I},{default:s(()=>[u(h,{class:"popup-content",onClick:m[0]||(m[0]=o(()=>{},["stop"]))},{default:s(()=>[u(h,{class:"popup-header"},{default:s(()=>[u(k,{class:"popup-title"},{default:s(()=>[n("选择持有人")]),_:1}),u(k,{class:"popup-close",onClick:I},{default:s(()=>[n("×")]),_:1})]),_:1}),u(h,{class:"holder-list"},{default:s(()=>[(e(!0),i(d,null,p(g.value,a=>(e(),l(h,{key:a.id,class:r(["holder-item",{active:F.value===a.id}]),onClick:e=>(a=>{F.value=a.id})(a)},{default:s(()=>[u(k,{class:"holder-name"},{default:s(()=>[n(f(a.name),1)]),_:2},1024),F.value===a.id?(e(),l(k,{key:0,class:"check-icon"},{default:s(()=>[n("✓")]),_:1})):v("",!0)]),_:2},1032,["class","onClick"]))),128))]),_:1}),u(h,{class:"popup-footer"},{default:s(()=>[u(y,{class:"cancel-btn",onClick:I},{default:s(()=>[n("取消")]),_:1}),u(y,{class:"confirm-btn",disabled:!F.value,onClick:T},{default:s(()=>[n(" 确定 ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})):v("",!0)}}},[["__scopeId","data-v-8474424a"]]);function b(a,e=300){let l;return function(...s){l&&clearTimeout(l),l=setTimeout(()=>{a.apply(this,s)},e)}}function x(a){return"--"===a||null==a?"--":Number(a).toFixed(2)+"%"}export{C as H,b as d,x as f};
